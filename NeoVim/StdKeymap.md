# NeoVim 标准快捷键参考

本文档整理了当前 NeoVim 配置中的所有快捷键，按照功能分类排序，便于学习和参考。

## 📋 目录

- [🧭 LSP 导航与开发 (Coc.nvim)](#-lsp-导航与开发-cocnvim)
- [🔍 搜索与文件导航 (Coc.nvim)](#-搜索与文件导航-cocnvim)
- [📁 窗口与标签管理](#-窗口与标签管理)
- [✏️ 编辑与文本操作](#️-编辑与文本操作)
- [🔀 Git 版本控制](#-git-版本控制)
- [🛠️ 工具与杂项](#️-工具与杂项)
- [⌨️ 命令行模式](#️-命令行模式)
- [🎯 UI 与界面](#-ui-与界面)
- [📝 补全与片段](#-补全与片段)

---

## 🧭 LSP 导航与开发 (Coc.nvim)

### 基础导航
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `gd` | Normal | 跳转到定义 | 使用 Coc.nvim LSP 功能 |
| `gy` | Normal | 跳转到类型定义 | 使用 Coc.nvim LSP 功能 |
| `gi` | Normal | 跳转到实现 | 使用 Coc.nvim LSP 功能 |
| `gr` | Normal | 查找引用 | 使用 Coc.nvim LSP 功能 |

### 文档与帮助
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `K` | Normal | 显示悬停文档 | 智能显示 LSP 文档或 Vim 帮助 |

### 诊断导航
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `g[` | Normal | 上一个诊断 | 跳转到上一个诊断项 |
| `g]` | Normal | 下一个诊断 | 跳转到下一个诊断项 |

### 代码操作
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<leader>a` | Normal/Visual | 代码动作 (选中区域) | 对选中区域执行代码动作 |
| `<leader>ra` | Normal | 代码动作 (当前行) | 对当前行执行代码动作 |
| `<leader>rl` | Normal | CodeLens 动作 | 执行 CodeLens 显示的动作 |
| `gq` | Normal | 修复当前行 | 自动修复当前行的错误 |

### 重构与格式化
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<leader>rn` | Normal | 重命名符号 | 使用 Coc.nvim 重命名功能 |
| `<leader>rf` | Normal | 重构 | Coc.nvim 重构功能 |
| `<leader>f` | Normal | 格式化并保存 | 格式化当前文件并保存 |
| `<leader>f` | Visual | 格式化选中区域 | 格式化选中的代码区域 |

### 文本对象
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `if` | Operator/Visual | 函数内部 | 选择函数内部内容 |
| `af` | Operator/Visual | 整个函数 | 选择整个函数 |
| `<C-s>` | Normal/Visual | 范围选择 | 选择语言服务器支持的范围 |

---

## 🔍 搜索与文件导航 (Coc.nvim)

### CocList 快捷键
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<space>d` | Normal | 诊断列表 | 显示所有诊断信息 |
| `<space>e` | Normal | 扩展管理 | 管理 Coc.nvim 扩展 |
| `<space>c` | Normal | 命令列表 | 显示可用命令 |
| `<space>o` | Normal | 文档大纲 | 显示当前文档的结构 |
| `<space>q` | Normal | 搜索单词 | 搜索单词的正则匹配 |
| `<space>s` | Normal | 搜索单词 | 同 `<space>q` |

### CocList 导航
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<space>j` | Normal | 下一项 | 执行下一项的默认动作 |
| `<space>k` | Normal | 上一项 | 执行上一项的默认动作 |
| `<space>p` | Normal | 恢复列表 | 恢复上次的 CocList |

---

## 📁 窗口与标签管理

### 窗口分割
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<leader>SL` | Normal | 右侧垂直分割 | 在右侧创建新窗口 |
| `<leader>SH` | Normal | 左侧垂直分割 | 在左侧创建新窗口 |
| `<leader>SK` | Normal | 上方水平分割 | 在上方创建新窗口 |
| `<leader>SJ` | Normal | 下方水平分割 | 在下方创建新窗口 |

### 窗口调整
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<leader>S<up>` | Normal | 增加窗口高度 | 向下扩展 4 行 |
| `<leader>S<down>` | Normal | 减少窗口高度 | 向上收缩 4 行 |
| `<leader>S<left>` | Normal | 减少窗口宽度 | 向左收缩 4 列 |
| `<leader>S<right>` | Normal | 增加窗口宽度 | 向右扩展 4 列 |

### 窗口转换
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<leader>Sr` | Normal | 水平转垂直 | 将水平布局转为垂直 |
| `<leader>SR` | Normal | 垂直转水平 | 将垂直布局转为水平 |

### 窗口切换
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `gw` | Normal | 切换窗口 | 在窗口间循环切换 |

### 标签页操作
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<leader>TE` | Normal | 新建标签页 | 创建新标签页 |
| `<leader>TH` | Normal | 上一个标签页 | 切换到左侧标签页 |
| `<leader>TL` | Normal | 下一个标签页 | 切换到右侧标签页 |

---

## ✏️ 编辑与文本操作

### 基础编辑
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<leader>y` | Normal | 替换当前单词 | 全局替换当前光标下的单词 |
| `<leader>Y` | Normal | 复制所有内容 | 复制整个文件到系统剪贴板 |

### 注释
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `gcc` | Normal | 注释/取消注释行 | 切换当前行注释状态 |
| `gc{motion}` | Normal | 注释/取消注释区域 | 注释指定区域 |
| `gc` | Visual | 注释/取消注释选择区 | 切换选中区域注释 |

### 循环替换
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `gs` | Normal/Visual | 循环下一个 | 在预定义替换间循环 (true/false, yes/no, on/off 等) |

### 多光标
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<C-c>` | Normal | 多光标位置 | 开始多光标会话 |
| `<C-d>` | Normal | 选择当前单词 | 添加当前单词到多光标选择 |
| `<C-d>` | Visual | 添加到多光标 | 将选中内容添加到多光标 |
| `<leader>x` | Normal | 多光标操作符 | 使用操作符模式进行多光标编辑 |

---

## 🔀 Git 版本控制

### Git 命令
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<A-g>` | Normal | Git 命令 | 打开 Git 命令行 (需要 fugitive 插件) |

---

## 🛠️ 工具与杂项

### 撤销树
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<A-3>` | Normal | 切换撤销树 | 显示/隐藏撤销历史 |

### 大纲视图
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<C-7>` | Normal | 切换大纲视图 | 显示/隐藏代码大纲 |

### QuickUI 菜单
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<A-m>` | Normal | 打开菜单 | 显示 QuickUI 主菜单 |
| `<A-Enter>` | Normal | 上下文菜单 | 显示当前上下文的操作菜单 |
| `<A-l>` | Normal | 列表选择 | 显示示例列表选择器 |

### 帮助导航
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<Right>` | Normal | 下一个帮助项 | 在帮助结果中导航 |
| `<Right><Right>` | Normal | 下一个帮助文件 | 跳转到下一个帮助文件 |
| `<Left>` | Normal | 上一个帮助项 | 在帮助结果中导航 |
| `<Left><Left>` | Normal | 上一个帮助文件 | 跳转到上一个帮助文件 |

---

## ⌨️ 命令行模式

### 命令行导航
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<C-h>` | Command | 光标左移 | 向左移动光标 |
| `<C-l>` | Command | 光标右移 | 向右移动光标 |
| `<C-j>` | Command | 选择下一项 | 历史记录向下 |
| `<C-k>` | Command | 选择上一项 | 历史记录向上 |
| `<C-a>` | Command | 行首 | 跳转到行首 |
| `<C-e>` | Command | 行尾 | 跳转到行尾 |
| `<C-f>` | Command | 删除到单词尾 | 类似 shell 行为 |
| `<C-b>` | Command | 光标左移 | 同 `<C-h>` |
| `<C-d>` | Command | 删除字符 | 删除光标处字符 |
| `<C-_>` | Command | 删除到行首 | 清除当前输入 |

---

## 🎯 UI 与界面

### 浮动窗口滚动
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<C-f>` | Normal/Insert/Visual | 向下滚动 | 在 Coc.nvim 浮动窗口中向下滚动 |
| `<C-b>` | Normal/Insert/Visual | 向上滚动 | 在 Coc.nvim 浮动窗口中向上滚动 |

---

## 📝 补全与片段

### 补全操作
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| `<Tab>` | Insert | 确认补全/展开片段 | 确认补全项或展开代码片段 |
| `<CR>` | Insert | 确认补全 | 确认选择的补全项 |
| `<C-space>` | Insert | 触发补全 | 手动触发补全建议 |

### 高亮功能
| 快捷键 | 模式 | 功能描述 | 参考说明 |
|--------|------|----------|----------|
| *(自动)* | Normal | 符号高亮 | 光标停留时自动高亮相同符号 |

---

## 🚀 自定义命令

### Coc.nvim 命令
| 命令 | 功能描述 | 参考说明 |
|------|----------|----------|
| `:Format` | 格式化当前缓冲区 | 使用 Coc.nvim 格式化功能 |
| `:Fold` | 折叠当前缓冲区 | 使用 Coc.nvim 折叠功能 |
| `:OR` | 整理导入 | 组织当前文件的导入语句 |

---

## 💡 使用提示

### 键位前缀说明
- `<leader>`: 空格键 (Space)
- `<C-*>`: Ctrl 组合键
- `<A-*>`: Alt 组合键
- `<S-*>`: Shift 组合键

### 模式说明
- **Normal**: 普通模式，Esc 退出其他模式后进入
- **Visual**: 视觉模式，v 或 V 或 Ctrl+v 进入
- **Command**: 命令行模式，: 进入
- **Insert**: 插入模式，i 或 a 进入
- **Operator**: 操作符等待模式，如 d, y, c 等

### Coc.nvim 特性
- **智能补全**: 支持多种语言的智能代码补全
- **诊断信息**: 实时显示语法错误和警告
- **代码导航**: 支持跳转到定义、实现、引用等
- **代码动作**: 提供智能的代码重构建议
- **多光标**: 支持类似 VSCode 的多光标编辑

### 获取帮助
- 使用 `:help` 查看内置帮助
- 使用 `:helpgrep` 搜索帮助内容
- 使用 `<Right>` 和 `<Left>` 在帮助结果中导航
- 使用 `:CocInfo` 查看 Coc.nvim 状态信息
- 使用 `:CocList commands` 查看所有可用命令

### 推荐学习路径
1. **基础导航**: 先掌握 `gd`, `gr`, `K` 等 LSP 导航键
2. **窗口管理**: 学习 `<leader>S*` 系列窗口操作
3. **代码操作**: 熟悉 `<leader>a`, `<leader>rn` 等代码编辑
4. **搜索功能**: 掌握 `<space>o`, `<space>d` 等 CocList 操作
5. **多光标**: 学习 `<C-d>`, `<C-c>` 多光标编辑

---

## 📚 相关资源

- [Coc.nvim 官方文档](https://github.com/neoclide/coc.nvim)
- [Vim 快捷键速查](https://vim.rtorr.com/)
- [核心配置文件](core/)
- [插件配置目录](plugconf/)

*最后更新: 2025-10-09*